<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
var urls;
function loadMe(){
    urls = chrome.extension.getBackgroundPage().urls
    for(var i = 0; i < urls.length; i ++){
        if(i == 0) $('#disable').after("<div id='recent'><h3>Recent questions:</h3><ul></ul></div>");
        var li = $("<li><a href=\"javascript:chrome.tabs.create({'url': '" + urls[i].url + "'})\">" + urls[i].title + "</a></li>");
        $("ul").append(li);
    }
    
    if(chrome.extension.getBackgroundPage().intervals.length === 0) $("#disable").text("Click here to restart notifications.")
    
    $("#disable").click(
        function(){
            if(chrome.extension.getBackgroundPage().intervals.length === 0){
                //nothing is running, so run stuff
                chrome.extension.getBackgroundPage().go();
                $(this).text("Click here to stop sending notifications.");
            }
            else{
                //stuff is running so stop stuff
                chrome.extension.getBackgroundPage().stop();
                $(this).text("Click here to restart notifications.");
            }
        });
}
</script>
</head>
<body onload="loadMe()" style="width: 500px;">
<button id="disable">Click here to stop sending notifications.</button>
</body>
</html>